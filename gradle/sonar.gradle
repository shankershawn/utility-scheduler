def coverageExclusions = [
        "**/constants/*",
        "**/dto/*",
        "**/exception/*",
        "**/configuration/*",
        "**/service/*",
        "**/predicate/*",
        "**/DropboxRefreshEventProducer.java"
].join(",")

tasks.sonar.dependsOn(build)

sonar {
    properties {
        //sonar.host.url and sonar.token are obtained from vault
        property("sonar.projectKey", "utility-scheduler")
        property("sonar.qualitygate.wait", true)
        property("sonar.qualitygate.timeout", 3600)
        property("sonar.coverage.exclusions", coverageExclusions)
        property("sonar.scm.disabled", true)
        property("sonar.web.http.keepAliveTimeout", 3600000)

    }
}